-- NZ脚本中心暗黑科技完整版
-- 主作者:南烛
-- 版本:3.0 终极版

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

-- 暗黑科技风格颜色方案
local COLOR_SCHEME = {
    BACKGROUND = Color3.fromRGB(43, 43, 43),
    PANEL_BG = Color3.fromRGB(35, 35, 35),
    ACCENT_BLUE = Color3.fromRGB(0, 120, 215),
    ACCENT_PURPLE = Color3.fromRGB(138, 43, 226),
    TEXT_WHITE = Color3.fromRGB(255, 255, 255),
    TEXT_GRAY = Color3.fromRGB(200, 200, 200),
    BORDER = Color3.fromRGB(60, 60, 60),
    HOVER = Color3.fromRGB(80, 80, 80)
}

-- 创建主屏幕GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "NZScriptCenterDarkTechComplete"
ScreenGui.Parent = game.CoreGui

-- 创建卡密验证界面
local KeyFrame = Instance.new("Frame")
KeyFrame.Name = "KeyFrame"
KeyFrame.Size = UDim2.new(0, 500, 0, 350)
KeyFrame.Position = UDim2.new(0.5, -250, 0.5, -175)
KeyFrame.BackgroundColor3 = COLOR_SCHEME.BACKGROUND
KeyFrame.BorderSizePixel = 0
KeyFrame.Parent = ScreenGui

local KeyFrameCorner = Instance.new("UICorner")
KeyFrameCorner.CornerRadius = UDim.new(0, 12)
KeyFrameCorner.Parent = KeyFrame

local KeyFrameStroke = Instance.new("UIStroke")
KeyFrameStroke.Color = COLOR_SCHEME.BORDER
KeyFrameStroke.Thickness = 2
KeyFrameStroke.Parent = KeyFrame

-- 卡密验证标题
local KeyTitle = Instance.new("TextLabel")
KeyTitle.Name = "KeyTitle"
KeyTitle.Text = "NZ脚本中心 - 安全验证"
KeyTitle.Size = UDim2.new(1, 0, 0, 70)
KeyTitle.Position = UDim2.new(0, 0, 0, 20)
KeyTitle.BackgroundTransparency = 1
KeyTitle.TextColor3 = COLOR_SCHEME.TEXT_WHITE
KeyTitle.TextSize = 28
KeyTitle.Font = Enum.Font.GothamBold
KeyTitle.Parent = KeyFrame

-- 作者信息
local AuthorText = Instance.new("TextLabel")
AuthorText.Name = "AuthorText"
AuthorText.Text = "主作者:南烛 | 暗黑科技版"
AuthorText.Size = UDim2.new(1, 0, 0, 30)
AuthorText.Position = UDim2.new(0, 0, 0, 70)
AuthorText.BackgroundTransparency = 1
AuthorText.TextColor3 = COLOR_SCHEME.ACCENT_PURPLE
AuthorText.TextSize = 18
AuthorText.Font = Enum.Font.Gotham
AuthorText.Parent = KeyFrame

-- 卡密输入框
local KeyInput = Instance.new("TextBox")
KeyInput.Name = "KeyInput"
KeyInput.PlaceholderText = "请输入您的卡密"
KeyInput.Size = UDim2.new(0.8, 0, 0, 50)
KeyInput.Position = UDim2.new(0.1, 0, 0.3, 0)
KeyInput.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
KeyInput.TextColor3 = COLOR_SCHEME.TEXT_WHITE
KeyInput.TextSize = 22
KeyInput.Font = Enum.Font.Gotham
KeyInput.Parent = KeyFrame

local KeyInputCorner = Instance.new("UICorner")
KeyInputCorner.CornerRadius = UDim.new(0, 8)
KeyInputCorner.Parent = KeyInput

local KeyInputStroke = Instance.new("UIStroke")
KeyInputStroke.Color = COLOR_SCHEME.ACCENT_BLUE
KeyInputStroke.Thickness = 2
KeyInputStroke.Parent = KeyInput

-- 验证按钮
local VerifyButton = Instance.new("TextButton")
VerifyButton.Name = "VerifyButton"
VerifyButton.Text = "验 证"
VerifyButton.Size = UDim2.new(0.6, 0, 0, 55)
VerifyButton.Position = UDim2.new(0.2, 0, 0.5, 0)
VerifyButton.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
VerifyButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
VerifyButton.TextSize = 24
VerifyButton.Font = Enum.Font.GothamBold
VerifyButton.Parent = KeyFrame

local VerifyButtonCorner = Instance.new("UICorner")
VerifyButtonCorner.CornerRadius = UDim.new(0, 8)
VerifyButtonCorner.Parent = VerifyButton

local VerifyButtonStroke = Instance.new("UIStroke")
VerifyButtonStroke.Color = COLOR_SCHEME.ACCENT_PURPLE
VerifyButtonStroke.Thickness = 2
VerifyButtonStroke.Parent = VerifyButton

-- 群信息
local GroupInfo = Instance.new("TextLabel")
GroupInfo.Name = "GroupInfo"
GroupInfo.Text = "进入QQ群:813128648 获取卡密"
GroupInfo.Size = UDim2.new(1, 0, 0, 35)
GroupInfo.Position = UDim2.new(0, 0, 0.7, 0)
GroupInfo.BackgroundTransparency = 1
GroupInfo.TextColor3 = COLOR_SCHEME.TEXT_GRAY
GroupInfo.TextSize = 18
GroupInfo.Parent = KeyFrame

-- 复制群号按钮
local CopyButton = Instance.new("TextButton")
CopyButton.Name = "CopyButton"
CopyButton.Text = "复制群号"
CopyButton.Size = UDim2.new(0.4, 0, 0, 40)
CopyButton.Position = UDim2.new(0.3, 0, 0.8, 0)
CopyButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
CopyButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
CopyButton.Parent = KeyFrame

local CopyButtonCorner = Instance.new("UICorner")
CopyButtonCorner.CornerRadius = UDim.new(0, 8)
CopyButtonCorner.Parent = CopyButton

local CopyButtonStroke = Instance.new("UIStroke")
CopyButtonStroke.Color = COLOR_SCHEME.BORDER
CopyButtonStroke.Thickness = 1
CopyButtonStroke.Parent = CopyButton

-- 消息发送选择弹窗
local MessagePrompt = Instance.new("Frame")
MessagePrompt.Name = "MessagePrompt"
MessagePrompt.Size = UDim2.new(0, 400, 0, 200)
MessagePrompt.Position = UDim2.new(0.5, -200, 0.5, -100)
MessagePrompt.BackgroundColor3 = COLOR_SCHEME.BACKGROUND
MessagePrompt.BorderSizePixel = 0
MessagePrompt.Visible = false
MessagePrompt.Parent = ScreenGui

local MessagePromptCorner = Instance.new("UICorner")
MessagePromptCorner.CornerRadius = UDim.new(0, 12)
MessagePromptCorner.Parent = MessagePrompt

local MessagePromptStroke = Instance.new("UIStroke")
MessagePromptStroke.Color = COLOR_SCHEME.BORDER
MessagePromptStroke.Thickness = 2
MessagePromptStroke.Parent = MessagePrompt

-- 消息提示文本
local MessageText = Instance.new("TextLabel")
MessageText.Name = "MessageText"
MessageText.Text = "是否发送聊天消息？"
MessageText.Size = UDim2.new(1, 0, 0, 60)
MessageText.Position = UDim2.new(0, 0, 0, 20)
MessageText.BackgroundTransparency = 1
MessageText.TextColor3 = COLOR_SCHEME.TEXT_WHITE
MessageText.TextSize = 20
MessageText.Font = Enum.Font.GothamBold
MessageText.Parent = MessagePrompt

-- 发送按钮（绿色）
local SendButton = Instance.new("TextButton")
SendButton.Name = "SendButton"
SendButton.Text = "发送"
SendButton.Size = UDim2.new(0.4, 0, 0, 40)
SendButton.Position = UDim2.new(0.1, 0, 0.6, 0)
SendButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
SendButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
SendButton.Parent = MessagePrompt

local SendButtonCorner = Instance.new("UICorner")
SendButtonCorner.CornerRadius = UDim.new(0, 8)
SendButtonCorner.Parent = SendButton

local SendButtonStroke = Instance.new("UIStroke")
SendButtonStroke.Color = Color3.fromRGB(0, 150, 0)
SendButtonStroke.Thickness = 2
SendButtonStroke.Parent = SendButton

-- 不发送按钮（红色）
local NoSendButton = Instance.new("TextButton")
NoSendButton.Name = "NoSendButton"
NoSendButton.Text = "不发送"
NoSendButton.Size = UDim2.new(0.4, 0, 0, 40)
NoSendButton.Position = UDim2.new(0.5, 0, 0.6, 0)
NoSendButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
NoSendButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
NoSendButton.Parent = MessagePrompt

local NoSendButtonCorner = Instance.new("UICorner")
NoSendButtonCorner.CornerRadius = UDim.new(0, 8)
NoSendButtonCorner.Parent = NoSendButton

local NoSendButtonStroke = Instance.new("UIStroke")
NoSendButtonStroke.Color = Color3.fromRGB(150, 0, 0)
NoSendButtonStroke.Thickness = 2
NoSendButtonStroke.Parent = NoSendButton

-- 创建主弹窗
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 650, 0, 500)
MainFrame.Position = UDim2.new(0.5, -325, 0.5, -250)
MainFrame.BackgroundColor3 = COLOR_SCHEME.BACKGROUND
MainFrame.BorderSizePixel = 0
MainFrame.Visible = false
MainFrame.Parent = ScreenGui

local MainFrameCorner = Instance.new("UICorner")
MainFrameCorner.CornerRadius = UDim.new(0, 12)
MainFrameCorner.Parent = MainFrame

local MainFrameStroke = Instance.new("UIStroke")
MainFrameStroke.Color = COLOR_SCHEME.BORDER
MainFrameStroke.Thickness = 2
MainFrameStroke.Parent = MainFrame

-- 标题栏
local TitleBar = Instance.new("Frame")
TitleBar.Name = "TitleBar"
TitleBar.Size = UDim2.new(1, 0, 0, 45)
TitleBar.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
TitleBar.Parent = MainFrame

local TitleBarCorner = Instance.new("UICorner")
TitleBarCorner.CornerRadius = UDim.new(0, 12, 0, 0)
TitleBarCorner.Parent = TitleBar

-- 标题文本
local TitleText = Instance.new("TextLabel")
TitleText.Name = "TitleText"
TitleText.Text = "NZ脚本中心"
TitleText.Size = UDim2.new(0, 160, 1, 0)
TitleText.Position = UDim2.new(0, 10, 0, 0)
TitleText.BackgroundTransparency = 1
TitleText.TextColor3 = COLOR_SCHEME.TEXT_WHITE
TitleText.TextSize = 26
TitleText.Font = Enum.Font.GothamBold
TitleText.TextXAlignment = Enum.TextXAlignment.Left
TitleText.Parent = TitleBar

-- 作者信息
local MainAuthorText = Instance.new("TextLabel")
MainAuthorText.Name = "MainAuthorText"
MainAuthorText.Text = "主作者:南烛 | 版本3.0"
MainAuthorText.Size = UDim2.new(0, 180, 1, 0)
MainAuthorText.Position = UDim2.new(0, 180, 0, 0)
MainAuthorText.BackgroundTransparency = 1
MainAuthorText.TextColor3 = COLOR_SCHEME.ACCENT_PURPLE
MainAuthorText.TextSize = 16
MainAuthorText.Font = Enum.Font.Gotham
MainAuthorText.TextXAlignment = Enum.TextXAlignment.Left
MainAuthorText.Parent = TitleBar

-- 最小化按钮
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Text = "-"
MinimizeButton.Size = UDim2.new(0, 35, 0, 35)
MinimizeButton.Position = UDim2.new(1, -70, 0, 5)
MinimizeButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
MinimizeButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
MinimizeButton.Parent = TitleBar

local MinimizeButtonCorner = Instance.new("UICorner")
MinimizeButtonCorner.CornerRadius = UDim.new(0, 8)
MinimizeButtonCorner.Parent = MinimizeButton

local MinimizeButtonStroke = Instance.new("UIStroke")
MinimizeButtonStroke.Color = COLOR_SCHEME.BORDER
MinimizeButtonStroke.Thickness = 1
MinimizeButtonStroke.Parent = MinimizeButton

-- 关闭按钮
local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Text = "×"
CloseButton.Size = UDim2.new(0, 35, 0, 35)
CloseButton.Position = UDim2.new(1, -35, 0, 5)
CloseButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
CloseButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
CloseButton.Parent = TitleBar

local CloseButtonCorner = Instance.new("UICorner")
CloseButtonCorner.CornerRadius = UDim.new(0, 8)
CloseButtonCorner.Parent = CloseButton

local CloseButtonStroke = Instance.new("UIStroke")
CloseButtonStroke.Color = COLOR_SCHEME.BORDER
CloseButtonStroke.Thickness = 1
CloseButtonStroke.Parent = CloseButton

-- 左侧导航栏
local NavBar = Instance.new("Frame")
NavBar.Name = "NavBar"
NavBar.Size = UDim2.new(0, 130, 1, -50)
NavBar.Position = UDim2.new(0, 0, 0, 45)
NavBar.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
NavBar.Parent = MainFrame

local NavBarStroke = Instance.new("UIStroke")
NavBarStroke.Color = COLOR_SCHEME.BORDER
NavBarStroke.Thickness = 2
NavBarStroke.Parent = NavBar

-- 开发团队按钮
local DevTeamButton = Instance.new("TextButton")
DevTeamButton.Name = "DevTeamButton"
DevTeamButton.Text = "开发团队"
DevTeamButton.Size = UDim2.new(1, -10, 0, 45)
DevTeamButton.Position = UDim2.new(0, 5, 0, 10)
DevTeamButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
DevTeamButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
DevTeamButton.Parent = NavBar

local DevTeamButtonCorner = Instance.new("UICorner")
DevTeamButtonCorner.CornerRadius = UDim.new(0, 8)
DevTeamButtonCorner.Parent = DevTeamButton

local DevTeamButtonStroke = Instance.new("UIStroke")
DevTeamButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
DevTeamButtonStroke.Thickness = 1
DevTeamButtonStroke.Parent = DevTeamButton

-- 通用功能按钮
local GeneralButton = Instance.new("TextButton")
GeneralButton.Name = "GeneralButton"
GeneralButton.Text = "通用功能"
GeneralButton.Size = UDim2.new(1, -10, 0, 45)
GeneralButton.Position = UDim2.new(0, 5, 0, 60)
GeneralButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
GeneralButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
GeneralButton.Parent = NavBar

local GeneralButtonCorner = Instance.new("UICorner")
GeneralButtonCorner.CornerRadius = UDim.new(0, 8)
GeneralButtonCorner.Parent = GeneralButton

local GeneralButtonStroke = Instance.new("UIStroke")
GeneralButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
GeneralButtonStroke.Thickness = 1
GeneralButtonStroke.Parent = GeneralButton

-- ESP功能按钮
local ESPButton = Instance.new("TextButton")
ESPButton.Name = "ESPButton"
ESPButton.Text = "ESP功能"
ESPButton.Size = UDim2.new(1, -10, 0, 45)
ESPButton.Position = UDim2.new(0, 5, 0, 110)
ESPButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
ESPButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
ESPButton.Parent = NavBar

local ESPButtonCorner = Instance.new("UICorner")
ESPButtonCorner.CornerRadius = UDim.new(0, 8)
ESPButtonCorner.Parent = ESPButton

local ESPButtonStroke = Instance.new("UIStroke")
ESPButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
ESPButtonStroke.Thickness = 1
ESPButtonStroke.Parent = ESPButton

-- 其他脚本按钮
local OtherScriptsButton = Instance.new("TextButton")
OtherScriptsButton.Name = "OtherScriptsButton"
OtherScriptsButton.Text = "其他脚本"
OtherScriptsButton.Size = UDim2.new(1, -10, 0, 45)
OtherScriptsButton.Position = UDim2.new(0, 5, 0, 160)
OtherScriptsButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
OtherScriptsButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
OtherScriptsButton.Parent = NavBar

local OtherScriptsButtonCorner = Instance.new("UICorner")
OtherScriptsButtonCorner.CornerRadius = UDim.new(0, 8)
OtherScriptsButtonCorner.Parent = OtherScriptsButton

local OtherScriptsButtonStroke = Instance.new("UIStroke")
OtherScriptsButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
OtherScriptsButtonStroke.Thickness = 1
OtherScriptsButtonStroke.Parent = OtherScriptsButton

-- 一键汉化按钮
local ChineseButton = Instance.new("TextButton")
ChineseButton.Name = "ChineseButton"
ChineseButton.Text = "一键汉化"
ChineseButton.Size = UDim2.new(1, -10, 0, 45)
ChineseButton.Position = UDim2.new(0, 5, 0, 210)
ChineseButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
ChineseButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
ChineseButton.Parent = NavBar

local ChineseButtonCorner = Instance.new("UICorner")
ChineseButtonCorner.CornerRadius = UDim.new(0, 8)
ChineseButtonCorner.Parent = ChineseButton

local ChineseButtonStroke = Instance.new("UIStroke")
ChineseButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
ChineseButtonStroke.Thickness = 1
ChineseButtonStroke.Parent = ChineseButton

-- 海贼战争按钮
local PirateWarButton = Instance.new("TextButton")
PirateWarButton.Name = "PirateWarButton"
PirateWarButton.Text = "海贼战争"
PirateWarButton.Size = UDim2.new(1, -10, 0, 45)
PirateWarButton.Position = UDim2.new(0, 5, 0, 260)
PirateWarButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
PirateWarButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
PirateWarButton.Parent = NavBar

local PirateWarButtonCorner = Instance.new("UICorner")
PirateWarButtonCorner.CornerRadius = UDim.new(0, 8)
PirateWarButtonCorner.Parent = PirateWarButton

local PirateWarButtonStroke = Instance.new("UIStroke")
PirateWarButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
PirateWarButtonStroke.Thickness = 1
PirateWarButtonStroke.Parent = PirateWarButton

-- 枪战竞技场按钮（新增）
local GunArenaButton = Instance.new("TextButton")
GunArenaButton.Name = "GunArenaButton"
GunArenaButton.Text = "枪战竞技场"
GunArenaButton.Size = UDim2.new(1, -10, 0, 45)
GunArenaButton.Position = UDim2.new(0, 5, 0, 310)
GunArenaButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
GunArenaButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
GunArenaButton.Parent = NavBar

local GunArenaButtonCorner = Instance.new("UICorner")
GunArenaButtonCorner.CornerRadius = UDim.new(0, 8)
GunArenaButtonCorner.Parent = GunArenaButton

local GunArenaButtonStroke = Instance.new("UIStroke")
GunArenaButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
GunArenaButtonStroke.Thickness = 1
GunArenaButtonStroke.Parent = GunArenaButton

-- 右侧内容区域
local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Size = UDim2.new(1, -135, 1, -55)
ContentFrame.Position = UDim2.new(0, 135, 0, 45)
ContentFrame.BackgroundTransparency = 1
ContentFrame.Parent = MainFrame

-- 状态提示
local StatusText = Instance.new("TextLabel")
StatusText.Name = "StatusText"
StatusText.Text = "就绪"
StatusText.Size = UDim2.new(1, 0, 0, 20)
StatusText.Position = UDim2.new(0, 0, 1, -25)
StatusText.BackgroundTransparency = 1
StatusText.TextColor3 = Color3.new(0, 1, 0)
StatusText.TextSize = 14
StatusText.Font = Enum.Font.SourceSans
StatusText.TextXAlignment = Enum.TextXAlignment.Left
StatusText.Parent = ContentFrame

-- 开发团队页面
local DevTeamFrame = Instance.new("Frame")
DevTeamFrame.Name = "DevTeamFrame"
DevTeamFrame.Size = UDim2.new(1, 0, 1, 0)
DevTeamFrame.BackgroundTransparency = 1
DevTeamFrame.Visible = false
DevTeamFrame.Parent = ContentFrame

-- 作者留言
local AuthorMessage = Instance.new("TextLabel")
AuthorMessage.Name = "AuthorMessage"
AuthorMessage.Text = "欢迎使用本脚本！为确保脚本功能稳定及账号安全，严禁将脚本配套的卡密外传或分享给他人，违规可能导致卡密失效，感谢你的配合！"
AuthorMessage.Size = UDim2.new(1, -20, 0, 120)
AuthorMessage.Position = UDim2.new(0, 10, 0, 10)
AuthorMessage.BackgroundTransparency = 1
AuthorMessage.TextColor3 = COLOR_SCHEME.ACCENT_PURPLE
AuthorMessage.TextSize = 16
AuthorMessage.TextWrapped = true
AuthorMessage.Font = Enum.Font.GothamBold
AuthorMessage.Parent = DevTeamFrame

-- 开发人员信息
local DeveloperInfo = Instance.new("TextLabel")
DeveloperInfo.Name = "DeveloperInfo"
DeveloperInfo.Text = "开发团队:\n主作者:南烛\n副作者:逍遥\n经理:深拥情话梦一场\n代理:孙笑川\n代理:以后\n代理:星云\n星云大号:相信"
DeveloperInfo.Size = UDim2.new(1, -20, 0, 180)
DeveloperInfo.Position = UDim2.new(0, 10, 0, 140)
DeveloperInfo.BackgroundTransparency = 1
DeveloperInfo.TextColor3 = Color3.new(1, 0.5, 0)
DeveloperInfo.TextSize = 18
DeveloperInfo.TextWrapped = true
DeveloperInfo.Font = Enum.Font.GothamBold
DeveloperInfo.Parent = DevTeamFrame

-- 通用功能页面
local GeneralFrame = Instance.new("Frame")
GeneralFrame.Name = "GeneralFrame"
GeneralFrame.Size = UDim2.new(1, 0, 1, 0)
GeneralFrame.BackgroundTransparency = 1
GeneralFrame.Visible = true
GeneralFrame.Parent = ContentFrame

-- 无敌少侠飞行
local FlightButton = Instance.new("TextButton")
FlightButton.Name = "FlightButton"
FlightButton.Text = "无敌少侠飞行"
FlightButton.Size = UDim2.new(1, 0, 0, 45)
FlightButton.Position = UDim2.new(0, 0, 0, 10)
FlightButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
FlightButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
FlightButton.Parent = GeneralFrame

local FlightButtonCorner = Instance.new("UICorner")
FlightButtonCorner.CornerRadius = UDim.new(0, 8)
FlightButtonCorner.Parent = FlightButton

local FlightButtonStroke = Instance.new("UIStroke")
FlightButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
FlightButtonStroke.Thickness = 1
FlightButtonStroke.Parent = FlightButton

-- 快速旋转
local FastSpinButton = Instance.new("TextButton")
FastSpinButton.Name = "FastSpinButton"
FastSpinButton.Text = "快速旋转 (速度50)"
FastSpinButton.Size = UDim2.new(1, 0, 0, 45)
FastSpinButton.Position = UDim2.new(0, 0, 0, 65)
FastSpinButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
FastSpinButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
FastSpinButton.Parent = GeneralFrame

local FastSpinButtonCorner = Instance.new("UICorner")
FastSpinButtonCorner.CornerRadius = UDim.new(0, 8)
FastSpinButtonCorner.Parent = FastSpinButton

local FastSpinButtonStroke = Instance.new("UIStroke")
FastSpinButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
FastSpinButtonStroke.Thickness = 1
FastSpinButtonStroke.Parent = FastSpinButton

-- 极速旋转
local SuperSpinButton = Instance.new("TextButton")
SuperSpinButton.Name = "SuperSpinButton"
SuperSpinButton.Text = "极速旋转 (速度100)"
SuperSpinButton.Size = UDim2.new(1, 0, 0, 45)
SuperSpinButton.Position = UDim2.new(0, 0, 0, 120)
SuperSpinButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
SuperSpinButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
SuperSpinButton.Parent = GeneralFrame

local SuperSpinButtonCorner = Instance.new("UICorner")
SuperSpinButtonCorner.CornerRadius = UDim.new(0, 8)
SuperSpinButtonCorner.Parent = SuperSpinButton

local SuperSpinButtonStroke = Instance.new("UIStroke")
SuperSpinButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
SuperSpinButtonStroke.Thickness = 1
SuperSpinButtonStroke.Parent = SuperSpinButton

-- 无限跳
local InfiniteJumpButton = Instance.new("TextButton")
InfiniteJumpButton.Name = "InfiniteJumpButton"
InfiniteJumpButton.Text = "无限跳跃"
InfiniteJumpButton.Size = UDim2.new(1, 0, 0, 45)
InfiniteJumpButton.Position = UDim2.new(0, 0, 0, 175)
InfiniteJumpButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
InfiniteJumpButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
InfiniteJumpButton.Parent = GeneralFrame

local InfiniteJumpButtonCorner = Instance.new("UICorner")
InfiniteJumpButtonCorner.CornerRadius = UDim.new(0, 8)
InfiniteJumpButtonCorner.Parent = InfiniteJumpButton

local InfiniteJumpButtonStroke = Instance.new("UIStroke")
InfiniteJumpButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
InfiniteJumpButtonStroke.Thickness = 1
InfiniteJumpButtonStroke.Parent = InfiniteJumpButton

-- 夜视功能
local NightVisionButton = Instance.new("TextButton")
NightVisionButton.Name = "NightVisionButton"
NightVisionButton.Text = "夜视功能"
NightVisionButton.Size = UDim2.new(1, 0, 0, 45)
NightVisionButton.Position = UDim2.new(0, 0, 0, 230)
NightVisionButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
NightVisionButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
NightVisionButton.Parent = GeneralFrame

local NightVisionButtonCorner = Instance.new("UICorner")
NightVisionButtonCorner.CornerRadius = UDim.new(0, 8)
NightVisionButtonCorner.Parent = NightVisionButton

local NightVisionButtonStroke = Instance.new("UIStroke")
NightVisionButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
NightVisionButtonStroke.Thickness = 1
NightVisionButtonStroke.Parent = NightVisionButton

-- ESP功能页面
local ESPFrame = Instance.new("Frame")
ESPFrame.Name = "ESPFrame"
ESPFrame.Size = UDim2.new(1, 0, 1, 0)
ESPFrame.BackgroundTransparency = 1
ESPFrame.Visible = false
ESPFrame.Parent = ContentFrame

-- ESP开关
local ESPToggle = Instance.new("TextButton")
ESPToggle.Name = "ESPToggle"
ESPToggle.Text = "开启ESP"
ESPToggle.Size = UDim2.new(1, 0, 0, 45)
ESPToggle.Position = UDim2.new(0, 0, 0, 10)
ESPToggle.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
ESPToggle.TextColor3 = COLOR_SCHEME.TEXT_WHITE
ESPToggle.Parent = ESPFrame

local ESPToggleCorner = Instance.new("UICorner")
ESPToggleCorner.CornerRadius = UDim.new(0, 8)
ESPToggleCorner.Parent = ESPToggle

local ESPToggleStroke = Instance.new("UIStroke")
ESPToggleStroke.Color = COLOR_SCHEME.ACCENT_BLUE
ESPToggleStroke.Thickness = 1
ESPToggleStroke.Parent = ESPToggle

-- 队伍检测开关
local TeamDetectToggle = Instance.new("TextButton")
TeamDetectToggle.Name = "TeamDetectToggle"
TeamDetectToggle.Text = "开启队伍检测"
TeamDetectToggle.Size = UDim2.new(1, 0, 0, 45)
TeamDetectToggle.Position = UDim2.new(0, 0, 0, 60)
TeamDetectToggle.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
TeamDetectToggle.TextColor3 = COLOR_SCHEME.TEXT_WHITE
TeamDetectToggle.Parent = ESPFrame

local TeamDetectToggleCorner = Instance.new("UICorner")
TeamDetectToggleCorner.CornerRadius = UDim.new(0, 8)
TeamDetectToggleCorner.Parent = TeamDetectToggle

local TeamDetectToggleStroke = Instance.new("UIStroke")
TeamDetectToggleStroke.Color = COLOR_SCHEME.ACCENT_BLUE
TeamDetectToggleStroke.Thickness = 1
TeamDetectToggleStroke.Parent = TeamDetectToggle

-- 其他脚本页面
local OtherScriptsFrame = Instance.new("Frame")
OtherScriptsFrame.Name = "OtherScriptsFrame"
OtherScriptsFrame.Size = UDim2.new(1, 0, 1, 0)
OtherScriptsFrame.BackgroundTransparency = 1
OtherScriptsFrame.Visible = false
OtherScriptsFrame.Parent = ContentFrame

-- SN.hub脚本按钮
local SNHubButton = Instance.new("TextButton")
SNHubButton.Name = "SNHubButton"
SNHubButton.Text = "SN.hub"
SNHubButton.Size = UDim2.new(1, 0, 0, 45)
SNHubButton.Position = UDim2.new(0, 0, 0, 10)
SNHubButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
SNHubButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
SNHubButton.Parent = OtherScriptsFrame

local SNHubButtonCorner = Instance.new("UICorner")
SNHubButtonCorner.CornerRadius = UDim.new(0, 8)
SNHubButtonCorner.Parent = SNHubButton

local SNHubButtonStroke = Instance.new("UIStroke")
SNHubButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
SNHubButtonStroke.Thickness = 1
SNHubButtonStroke.Parent = SNHubButton

-- 叶脚本按钮
local YeScriptButton = Instance.new("TextButton")
YeScriptButton.Name = "YeScriptButton"
YeScriptButton.Text = "叶脚本"
YeScriptButton.Size = UDim2.new(1, 0, 0, 45)
YeScriptButton.Position = UDim2.new(0, 0, 0, 60)
YeScriptButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
YeScriptButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
YeScriptButton.Parent = OtherScriptsFrame

local YeScriptButtonCorner = Instance.new("UICorner")
YeScriptButtonCorner.CornerRadius = UDim.new(0, 8)
YeScriptButtonCorner.Parent = YeScriptButton

local YeScriptButtonStroke = Instance.new("UIStroke")
YeScriptButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
YeScriptButtonStroke.Thickness = 1
YeScriptButtonStroke.Parent = YeScriptButton

-- 天脚本按钮
local TianScriptButton = Instance.new("TextButton")
TianScriptButton.Name = "TianScriptButton"
TianScriptButton.Text = "天脚本"
TianScriptButton.Size = UDim2.new(1, 0, 0, 45)
TianScriptButton.Position = UDim2.new(0, 0, 0, 110)
TianScriptButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
TianScriptButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
TianScriptButton.Parent = OtherScriptsFrame

local TianScriptButtonCorner = Instance.new("UICorner")
TianScriptButtonCorner.CornerRadius = UDim.new(0, 8)
TianScriptButtonCorner.Parent = TianScriptButton

local TianScriptButtonStroke = Instance.new("UIStroke")
TianScriptButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
TianScriptButtonStroke.Thickness = 1
TianScriptButtonStroke.Parent = TianScriptButton

-- TX.退休脚本按钮
local TXRetireButton = Instance.new("TextButton")
TXRetireButton.Name = "TXRetireButton"
TXRetireButton.Text = "TX.退休"
TXRetireButton.Size = UDim2.new(1, 0, 0, 45)
TXRetireButton.Position = UDim2.new(0, 0, 0, 160)
TXRetireButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
TXRetireButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
TXRetireButton.Parent = OtherScriptsFrame

local TXRetireButtonCorner = Instance.new("UICorner")
TXRetireButtonCorner.CornerRadius = UDim.new(0, 8)
TXRetireButtonCorner.Parent = TXRetireButton

local TXRetireButtonStroke = Instance.new("UIStroke")
TXRetireButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
TXRetireButtonStroke.Thickness = 1
TXRetireButtonStroke.Parent = TXRetireButton

-- 一键汉化页面
local ChineseFrame = Instance.new("Frame")
ChineseFrame.Name = "ChineseFrame"
ChineseFrame.Size = UDim2.new(1, 0, 1, 0)
ChineseFrame.BackgroundTransparency = 1
ChineseFrame.Visible = false
ChineseFrame.Parent = ContentFrame

-- 汉化按钮
local ChineseButton = Instance.new("TextButton")
ChineseButton.Name = "ChineseButton"
ChineseButton.Text = "一键汉化英文脚本"
ChineseButton.Size = UDim2.new(1, 0, 0, 45)
ChineseButton.Position = UDim2.new(0, 0, 0, 10)
ChineseButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
ChineseButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
ChineseButton.Parent = ChineseFrame

local ChineseButtonCorner = Instance.new("UICorner")
ChineseButtonCorner.CornerRadius = UDim.new(0, 8)
ChineseButtonCorner.Parent = ChineseButton

local ChineseButtonStroke = Instance.new("UIStroke")
ChineseButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
ChineseButtonStroke.Thickness = 1
ChineseButtonStroke.Parent = ChineseButton

-- 海贼战争页面
local PirateWarFrame = Instance.new("Frame")
PirateWarFrame.Name = "PirateWarFrame"
PirateWarFrame.Size = UDim2.new(1, 0, 1, 0)
PirateWarFrame.BackgroundTransparency = 1
PirateWarFrame.Visible = false
PirateWarFrame.Parent = ContentFrame

-- 移除冷却按钮
local RemoveCooldownButton = Instance.new("TextButton")
RemoveCooldownButton.Name = "RemoveCooldownButton"
RemoveCooldownButton.Text = "移除所有冷却"
RemoveCooldownButton.Size = UDim2.new(1, 0, 0, 45)
RemoveCooldownButton.Position = UDim2.new(0, 0, 0, 10)
RemoveCooldownButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
RemoveCooldownButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
RemoveCooldownButton.Parent = PirateWarFrame

local RemoveCooldownButtonCorner = Instance.new("UICorner")
RemoveCooldownButtonCorner.CornerRadius = UDim.new(0, 8)
RemoveCooldownButtonCorner.Parent = RemoveCooldownButton

local RemoveCooldownButtonStroke = Instance.new("UIStroke")
RemoveCooldownButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
RemoveCooldownButtonStroke.Thickness = 1
RemoveCooldownButtonStroke.Parent = RemoveCooldownButton

-- 枪战竞技场页面（新增）
local GunArenaFrame = Instance.new("Frame")
GunArenaFrame.Name = "GunArenaFrame"
GunArenaFrame.Size = UDim2.new(1, 0, 1, 0)
GunArenaFrame.BackgroundTransparency = 1
GunArenaFrame.Visible = false
GunArenaFrame.Parent = ContentFrame

-- 主要功能标题
local MainFunctionTitle = Instance.new("TextLabel")
MainFunctionTitle.Name = "MainFunctionTitle"
MainFunctionTitle.Text = "主要功能"
MainFunctionTitle.Size = UDim2.new(1, 0, 0, 30)
MainFunctionTitle.Position = UDim2.new(0, 0, 0, 10)
MainFunctionTitle.BackgroundTransparency = 1
MainFunctionTitle.TextColor3 = COLOR_SCHEME.ACCENT_PURPLE
MainFunctionTitle.TextSize = 20
MainFunctionTitle.Font = Enum.Font.GothamBold
MainFunctionTitle.TextXAlignment = Enum.TextXAlignment.Left
MainFunctionTitle.Parent = GunArenaFrame

-- 自动农场按钮
local AutoFarmButton = Instance.new("TextButton")
AutoFarmButton.Name = "AutoFarmButton"
AutoFarmButton.Text = "自动农场"
AutoFarmButton.Size = UDim2.new(1, 0, 0, 45)
AutoFarmButton.Position = UDim2.new(0, 0, 0, 50)
AutoFarmButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
AutoFarmButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
AutoFarmButton.Parent = GunArenaFrame

local AutoFarmButtonCorner = Instance.new("UICorner")
AutoFarmButtonCorner.CornerRadius = UDim.new(0, 8)
AutoFarmButtonCorner.Parent = AutoFarmButton

local AutoFarmButtonStroke = Instance.new("UIStroke")
AutoFarmButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
AutoFarmButtonStroke.Thickness = 1
AutoFarmButtonStroke.Parent = AutoFarmButton

-- 自动农场描述
local AutoFarmDescription = Instance.new("TextLabel")
AutoFarmDescription.Name = "AutoFarmDescription"
AutoFarmDescription.Text = "需要你手动开火。自动农场的功能是会直接传送到其他玩家的后面并且准心瞄准他的头部。当这个玩家打死以后自动切换到其他玩家。只传送到敌人后面不会传送到队友后面。会在敌人后面一直待着直到对方死亡换到其他人后面一直待着。"
AutoFarmDescription.Size = UDim2.new(1, 0, 0, 60)
AutoFarmDescription.Position = UDim2.new(0, 0, 0, 100)
AutoFarmDescription.BackgroundTransparency = 1
AutoFarmDescription.TextColor3 = COLOR_SCHEME.TEXT_GRAY
AutoFarmDescription.TextSize = 12
AutoFarmDescription.TextWrapped = true
AutoFarmDescription.TextXAlignment = Enum.TextXAlignment.Left
AutoFarmDescription.Parent = GunArenaFrame

-- 碰撞箱功能标题
local HitboxTitle = Instance.new("TextLabel")
HitboxTitle.Name = "HitboxTitle"
HitboxTitle.Text = "碰撞箱功能"
HitboxTitle.Size = UDim2.new(1, 0, 0, 30)
HitboxTitle.Position = UDim2.new(0, 0, 0, 170)
HitboxTitle.BackgroundTransparency = 1
HitboxTitle.TextColor3 = COLOR_SCHEME.ACCENT_PURPLE
HitboxTitle.TextSize = 20
HitboxTitle.Font = Enum.Font.GothamBold
HitboxTitle.TextXAlignment = Enum.TextXAlignment.Left
HitboxTitle.Parent = GunArenaFrame

-- 碰撞箱大小滑块
local HitboxSizeSlider = Instance.new("TextLabel")
HitboxSizeSlider.Name = "HitboxSizeSlider"
HitboxSizeSlider.Text = "碰撞箱大小: 1"
HitboxSizeSlider.Size = UDim2.new(1, 0, 0, 20)
HitboxSizeSlider.Position = UDim2.new(0, 0, 0, 210)
HitboxSizeSlider.BackgroundTransparency = 1
HitboxSizeSlider.TextColor3 = COLOR_SCHEME.TEXT_WHITE
HitboxSizeSlider.TextSize = 14
HitboxSizeSlider.TextXAlignment = Enum.TextXAlignment.Left
HitboxSizeSlider.Parent = GunArenaFrame

local HitboxSizeBar = Instance.new("Frame")
HitboxSizeBar.Name = "HitboxSizeBar"
HitboxSizeBar.Size = UDim2.new(1, 0, 0, 10)
HitboxSizeBar.Position = UDim2.new(0, 0, 0, 235)
HitboxSizeBar.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
HitboxSizeBar.Parent = GunArenaFrame

local HitboxSizeBarCorner = Instance.new("UICorner")
HitboxSizeBarCorner.CornerRadius = UDim.new(0, 5)
HitboxSizeBarCorner.Parent = HitboxSizeBar

local HitboxSizeFill = Instance.new("Frame")
HitboxSizeFill.Name = "HitboxSizeFill"
HitboxSizeFill.Size = UDim2.new(0.2, 0, 1, 0)
HitboxSizeFill.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
HitboxSizeFill.Parent = HitboxSizeBar

local HitboxSizeFillCorner = Instance.new("UICorner")
HitboxSizeFillCorner.CornerRadius = UDim.new(0, 5)
HitboxSizeFillCorner.Parent = HitboxSizeFill

-- 碰撞箱透明度滑块
local HitboxTransparencySlider = Instance.new("TextLabel")
HitboxTransparencySlider.Name = "HitboxTransparencySlider"
HitboxTransparencySlider.Text = "碰撞箱透明度: 0.2"
HitboxTransparencySlider.Size = UDim2.new(1, 0, 0, 20)
HitboxTransparencySlider.Position = UDim2.new(0, 0, 0, 255)
HitboxTransparencySlider.BackgroundTransparency = 1
HitboxTransparencySlider.TextColor3 = COLOR_SCHEME.TEXT_WHITE
HitboxTransparencySlider.TextSize = 14
HitboxTransparencySlider.TextXAlignment = Enum.TextXAlignment.Left
HitboxTransparencySlider.Parent = GunArenaFrame

local HitboxTransparencyBar = Instance.new("Frame")
HitboxTransparencyBar.Name = "HitboxTransparencyBar"
HitboxTransparencyBar.Size = UDim2.new(1, 0, 0, 10)
HitboxTransparencyBar.Position = UDim2.new(0, 0, 0, 280)
HitboxTransparencyBar.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
HitboxTransparencyBar.Parent = GunArenaFrame

local HitboxTransparencyBarCorner = Instance.new("UICorner")
HitboxTransparencyBarCorner.CornerRadius = UDim.new(0, 5)
HitboxTransparencyBarCorner.Parent = HitboxTransparencyBar

local HitboxTransparencyFill = Instance.new("Frame")
HitboxTransparencyFill.Name = "HitboxTransparencyFill"
HitboxTransparencyFill.Size = UDim2.new(0.2, 0, 1, 0)
HitboxTransparencyFill.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
HitboxTransparencyFill.Parent = HitboxTransparencyBar

local HitboxTransparencyFillCorner = Instance.new("UICorner")
HitboxTransparencyFillCorner.CornerRadius = UDim.new(0, 5)
HitboxTransparencyFillCorner.Parent = HitboxTransparencyFill

-- 提交更改按钮
local SubmitHitboxButton = Instance.new("TextButton")
SubmitHitboxButton.Name = "SubmitHitboxButton"
SubmitHitboxButton.Text = "提交更改"
SubmitHitboxButton.Size = UDim2.new(1, 0, 0, 40)
SubmitHitboxButton.Position = UDim2.new(0, 0, 0, 300)
SubmitHitboxButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
SubmitHitboxButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
SubmitHitboxButton.Parent = GunArenaFrame

local SubmitHitboxButtonCorner = Instance.new("UICorner")
SubmitHitboxButtonCorner.CornerRadius = UDim.new(0, 8)
SubmitHitboxButtonCorner.Parent = SubmitHitboxButton

local SubmitHitboxButtonStroke = Instance.new("UIStroke")
SubmitHitboxButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
SubmitHitboxButtonStroke.Thickness = 1
SubmitHitboxButtonStroke.Parent = SubmitHitboxButton

-- 美化功能标题
local SkinTitle = Instance.new("TextLabel")
SkinTitle.Name = "SkinTitle"
SkinTitle.Text = "美化功能"
SkinTitle.Size = UDim2.new(1, 0, 0, 30)
SkinTitle.Position = UDim2.new(0, 0, 0, 350)
SkinTitle.BackgroundTransparency = 1
SkinTitle.TextColor3 = COLOR_SCHEME.ACCENT_PURPLE
SkinTitle.TextSize = 20
SkinTitle.Font = Enum.Font.GothamBold
SkinTitle.TextXAlignment = Enum.TextXAlignment.Left
SkinTitle.Parent = GunArenaFrame

-- 七彩枪皮按钮
local RainbowSkinButton = Instance.new("TextButton")
RainbowSkinButton.Name = "RainbowSkinButton"
RainbowSkinButton.Text = "七彩枪皮"
RainbowSkinButton.Size = UDim2.new(1, 0, 0, 45)
RainbowSkinButton.Position = UDim2.new(0, 0, 0, 390)
RainbowSkinButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
RainbowSkinButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
RainbowSkinButton.Parent = GunArenaFrame

local RainbowSkinButtonCorner = Instance.new("UICorner")
RainbowSkinButtonCorner.CornerRadius = UDim.new(0, 8)
RainbowSkinButtonCorner.Parent = RainbowSkinButton

local RainbowSkinButtonStroke = Instance.new("UIStroke")
RainbowSkinButtonStroke.Color = COLOR_SCHEME.ACCENT_BLUE
RainbowSkinButtonStroke.Thickness = 1
RainbowSkinButtonStroke.Parent = RainbowSkinButton

-- 七彩枪皮描述
local RainbowSkinDescription = Instance.new("TextLabel")
RainbowSkinDescription.Name = "RainbowSkinDescription"
RainbowSkinDescription.Text = "开启后会将玩家所拿的枪械、刀、手雷进行七彩颜色的变换。玩什么枪都可以刀也可以手雷也可以。用户关闭那个按钮就不再进行变换颜色恢复原本的样子。"
RainbowSkinDescription.Size = UDim2.new(1, 0, 0, 40)
RainbowSkinDescription.Position = UDim2.new(0, 0, 0, 440)
RainbowSkinDescription.BackgroundTransparency = 1
RainbowSkinDescription.TextColor3 = COLOR_SCHEME.TEXT_GRAY
RainbowSkinDescription.TextSize = 12
RainbowSkinDescription.TextWrapped = true
RainbowSkinDescription.TextXAlignment = Enum.TextXAlignment.Left
RainbowSkinDescription.Parent = GunArenaFrame

-- 悬浮球按钮
local FloatingBall = Instance.new("ImageButton")
FloatingBall.Name = "FloatingBall"
FloatingBall.Size = UDim2.new(0, 50, 0, 50)
FloatingBall.Position = UDim2.new(1, -60, 0.5, -25)
FloatingBall.Image = "rbxassetid://137091327012662"
FloatingBall.BackgroundTransparency = 1
FloatingBall.Visible = false
FloatingBall.Parent = ScreenGui

local FloatingBallCorner = Instance.new("UICorner")
FloatingBallCorner.CornerRadius = UDim.new(1, 0)
FloatingBallCorner.Parent = FloatingBall

local FloatingBallStroke = Instance.new("UIStroke")
FloatingBallStroke.Color = COLOR_SCHEME.ACCENT_PURPLE
FloatingBallStroke.Thickness = 2
FloatingBallStroke.Parent = FloatingBall

-- 退出提示框
local ExitPrompt = Instance.new("Frame")
ExitPrompt.Name = "ExitPrompt"
ExitPrompt.Size = UDim2.new(0, 300, 0, 150)
ExitPrompt.Position = UDim2.new(0.5, -150, 0.5, -75)
ExitPrompt.BackgroundColor3 = COLOR_SCHEME.BACKGROUND
ExitPrompt.BorderSizePixel = 0
ExitPrompt.Visible = false
ExitPrompt.Parent = ScreenGui

local ExitPromptCorner = Instance.new("UICorner")
ExitPromptCorner.CornerRadius = UDim.new(0, 12)
ExitPromptCorner.Parent = ExitPrompt

local ExitPromptStroke = Instance.new("UIStroke")
ExitPromptStroke.Color = COLOR_SCHEME.BORDER
ExitPromptStroke.Thickness = 2
ExitPromptStroke.Parent = ExitPrompt

-- 退出提示文本
local ExitText = Instance.new("TextLabel")
ExitText.Name = "ExitText"
ExitText.Text = "确定要关闭NZ脚本中心吗？"
ExitText.Size = UDim2.new(1, 0, 0, 60)
ExitText.Position = UDim2.new(0, 0, 0, 20)
ExitText.BackgroundTransparency = 1
ExitText.TextColor3 = COLOR_SCHEME.TEXT_WHITE
ExitText.TextSize = 20
ExitText.Font = Enum.Font.GothamBold
ExitText.Parent = ExitPrompt

-- 取消按钮
local CancelButton = Instance.new("TextButton")
CancelButton.Name = "CancelButton"
CancelButton.Text = "取消"
CancelButton.Size = UDim2.new(0.4, 0, 0, 40)
CancelButton.Position = UDim2.new(0.1, 0, 0.6, 0)
CancelButton.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
CancelButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
CancelButton.Parent = ExitPrompt

local CancelButtonCorner = Instance.new("UICorner")
CancelButtonCorner.CornerRadius = UDim.new(0, 8)
CancelButtonCorner.Parent = CancelButton

local CancelButtonStroke = Instance.new("UIStroke")
CancelButtonStroke.Color = COLOR_SCHEME.BORDER
CancelButtonStroke.Thickness = 1
CancelButtonStroke.Parent = CancelButton

-- 确定按钮
local ConfirmButton = Instance.new("TextButton")
ConfirmButton.Name = "ConfirmButton"
ConfirmButton.Text = "确定"
ConfirmButton.Size = UDim2.new(0.4, 0, 0, 40)
ConfirmButton.Position = UDim2.new(0.5, 0, 0.6, 0)
ConfirmButton.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
ConfirmButton.TextColor3 = COLOR_SCHEME.TEXT_WHITE
ConfirmButton.Parent = ExitPrompt

local ConfirmButtonCorner = Instance.new("UICorner")
ConfirmButtonCorner.CornerRadius = UDim.new(0, 8)
ConfirmButtonCorner.Parent = ConfirmButton

local ConfirmButtonStroke = Instance.new("UIStroke")
ConfirmButtonStroke.Color = COLOR_SCHEME.ACCENT_PURPLE
ConfirmButtonStroke.Thickness = 2
ConfirmButtonStroke.Parent = ConfirmButton

-- 服务器退出提示
local ServerExitNotice = Instance.new("Frame")
ServerExitNotice.Name = "ServerExitNotice"
ServerExitNotice.Size = UDim2.new(0, 400, 0, 100)
ServerExitNotice.Position = UDim2.new(0.5, -200, 0, 20)
ServerExitNotice.BackgroundColor3 = COLOR_SCHEME.BACKGROUND
ServerExitNotice.BorderSizePixel = 0
ServerExitNotice.Visible = false
ServerExitNotice.Parent = ScreenGui

local ServerExitNoticeCorner = Instance.new("UICorner")
ServerExitNoticeCorner.CornerRadius = UDim.new(0, 12)
ServerExitNoticeCorner.Parent = ServerExitNotice

local ServerExitNoticeStroke = Instance.new("UIStroke")
ServerExitNoticeStroke.Color = COLOR_SCHEME.BORDER
ServerExitNoticeStroke.Thickness = 2
ServerExitNoticeStroke.Parent = ServerExitNotice

-- 大标题
local ExitTitle = Instance.new("TextLabel")
ExitTitle.Name = "ExitTitle"
ExitTitle.Text = "NZ脚本中心"
ExitTitle.Size = UDim2.new(1, 0, 0, 50)
ExitTitle.Position = UDim2.new(0, 0, 0, 10)
ExitTitle.BackgroundTransparency = 1
ExitTitle.TextColor3 = COLOR_SCHEME.ACCENT_PURPLE
ExitTitle.TextSize = 28
ExitTitle.Font = Enum.Font.GothamBold
ExitTitle.Parent = ServerExitNotice

-- 小标题
local ExitSubtitle = Instance.new("TextLabel")
ExitSubtitle.Name = "ExitSubtitle"
ExitSubtitle.Text = "您已退出/跳转服务器\n下次也要用NZ脚本中心噢^O^"
ExitSubtitle.Size = UDim2.new(1, 0, 0, 40)
ExitSubtitle.Position = UDim2.new(0, 0, 0, 50)
ExitSubtitle.BackgroundTransparency = 1
ExitSubtitle.TextColor3 = COLOR_SCHEME.TEXT_WHITE
ExitSubtitle.TextSize = 16
ExitSubtitle.Font = Enum.Font.Gotham
ExitSubtitle.Parent = ServerExitNotice

-- 变量声明
local isDragging = false
local dragStartPos = Vector2.new(0, 0)
local frameStartPos = UDim2.new(0, 0, 0, 0)
local isRestoreDragging = false
local restoreStartPos = Vector2.new(0, 0)
local buttonStartPos = UDim2.new(0, 0, 0, 0)
local espEnabled = false
local teamDetectEnabled = false
local espHighlights = {}
local correctKey = "nznb666"
local verifiedPlayers = {}
local fastSpinEnabled = false
local superSpinEnabled = false
local infiniteJumpEnabled = false
local nightVisionEnabled = false
local fastSpinConnection = nil
local superSpinConnection = nil
local infiniteJumpConnection = nil
local isExitPromptShown = false
local currentPage = "General"
local hitboxSize = 1
local hitboxTransparency = 0.2
local rainbowSkinEnabled = false
local autoFarmEnabled = false

-- 复制群号功能
CopyButton.MouseButton1Click:Connect(function()
    local clipboard = setclipboard or toclipboard or set_clipboard or (Clipboard and Clipboard.set)
    if clipboard then
        clipboard("813128648")
        StatusText.Text = "群号已复制到剪贴板"
    else
        StatusText.Text = "无法复制，请手动复制群号"
    end
end)

-- 验证卡密功能
VerifyButton.MouseButton1Click:Connect(function()
    if KeyInput.Text == correctKey then
        verifiedPlayers[LocalPlayer.UserId] = true
        KeyFrame.Visible = false
        MessagePrompt.Visible = true
        StatusText.Text = "验证成功，请选择是否发送消息"
    else
        KeyInput.Text = ""
        KeyInput.PlaceholderText = "卡密错误，请重新输入"
        StatusText.Text = "卡密错误"
        LocalPlayer:Kick("Wrong card.")
    end
end)

-- 发送消息功能
SendButton.MouseButton1Click:Connect(function()
    MessagePrompt.Visible = false
    MainFrame.Visible = true
    FloatingBall.Visible = true
    StatusText.Text = "进入主界面"
    
    -- 发送聊天消息
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local ChatService = ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents")
    if ChatService then
        local SayMessageRequest = ChatService:FindFirstChild("SayMessageRequest")
        if SayMessageRequest then
            SayMessageRequest:FireServer("欢迎使用NZ脚本中心", "All")
            wait(1)
            SayMessageRequest:FireServer("正在为您进入", "All")
        end
    end
end)

-- 不发送消息功能
NoSendButton.MouseButton1Click:Connect(function()
    MessagePrompt.Visible = false
    MainFrame.Visible = true
    FloatingBall.Visible = true
    StatusText.Text = "进入主界面"
end)

-- 悬浮球按钮功能
FloatingBall.MouseButton1Click:Connect(function()
    if MainFrame.Visible then
        MainFrame.Visible = false
        FloatingBall.BackgroundColor3 = COLOR_SCHEME.ACCENT_PURPLE
        StatusText.Text = "界面已隐藏"
    else
        MainFrame.Visible = true
        FloatingBall.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
        StatusText.Text = "界面已显示"
    end
end)

-- 最小化按钮功能
MinimizeButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
    FloatingBall.Visible = true
    StatusText.Text = "界面已最小化"
end)

-- 关闭按钮功能
CloseButton.MouseButton1Click:Connect(function()
    ExitPrompt.Visible = true
    isExitPromptShown = true
end)

-- 取消退出功能
CancelButton.MouseButton1Click:Connect(function()
    ExitPrompt.Visible = false
    isExitPromptShown = false
end)

-- 确认退出功能
ConfirmButton.MouseButton1Click:Connect(function()
    ExitPrompt.Visible = false
    MainFrame.Visible = false
    FloatingBall.Visible = false
    isExitPromptShown = false
    StatusText.Text = "界面已关闭"
end)

-- 拖动主窗口
TitleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        isDragging = true
        dragStartPos = Vector2.new(input.Position.X, input.Position.Y)
        frameStartPos = MainFrame.Position
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        if isDragging then
            local delta = Vector2.new(input.Position.X, input.Position.Y) - dragStartPos
            MainFrame.Position = UDim2.new(frameStartPos.X.Scale, frameStartPos.X.Offset + delta.X, 
                                          frameStartPos.Y.Scale, frameStartPos.Y.Offset + delta.Y)
        end
    end
end)

UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        isDragging = false
    end
end)

-- 导航按钮功能
DevTeamButton.MouseButton1Click:Connect(function()
    hideAllFrames()
    DevTeamFrame.Visible = true
    currentPage = "DevTeam"
    updateNavButtons()
    StatusText.Text = "切换到开发团队信息"
end)

GeneralButton.MouseButton1Click:Connect(function()
    hideAllFrames()
    GeneralFrame.Visible = true
    currentPage = "General"
    updateNavButtons()
    StatusText.Text = "切换到通用功能"
end)

ESPButton.MouseButton1Click:Connect(function()
    hideAllFrames()
    ESPFrame.Visible = true
    currentPage = "ESP"
    updateNavButtons()
    StatusText.Text = "切换到ESP功能"
end)

OtherScriptsButton.MouseButton1Click:Connect(function()
    hideAllFrames()
    OtherScriptsFrame.Visible = true
    currentPage = "OtherScripts"
    updateNavButtons()
    StatusText.Text = "切换到其他脚本"
end)

ChineseButton.MouseButton1Click:Connect(function()
    hideAllFrames()
    ChineseFrame.Visible = true
    currentPage = "Chinese"
    updateNavButtons()
    StatusText.Text = "切换到一键汉化"
end)

PirateWarButton.MouseButton1Click:Connect(function()
    hideAllFrames()
    PirateWarFrame.Visible = true
    currentPage = "PirateWar"
    updateNavButtons()
    StatusText.Text = "切换到海贼战争功能"
end)

GunArenaButton.MouseButton1Click:Connect(function()
    hideAllFrames()
    GunArenaFrame.Visible = true
    currentPage = "GunArena"
    updateNavButtons()
    StatusText.Text = "切换到枪战竞技场"
end)

-- 隐藏所有帧函数
local function hideAllFrames()
    DevTeamFrame.Visible = false
    GeneralFrame.Visible = false
    ESPFrame.Visible = false
    OtherScriptsFrame.Visible = false
    ChineseFrame.Visible = false
    PirateWarFrame.Visible = false
    GunArenaFrame.Visible = false
end

-- 更新导航按钮状态函数
local function updateNavButtons()
    local buttons = {
        DevTeamButton, GeneralButton, ESPButton, OtherScriptsButton, 
        ChineseButton, PirateWarButton, GunArenaButton
    }
    
    for _, button in pairs(buttons) do
        button.BackgroundColor3 = COLOR_SCHEME.PANEL_BG
    end
    
    if currentPage == "DevTeam" then
        DevTeamButton.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
    elseif currentPage == "General" then
        GeneralButton.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
    elseif currentPage == "ESP" then
        ESPButton.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
    elseif currentPage == "OtherScripts" then
        OtherScriptsButton.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
    elseif currentPage == "Chinese" then
        ChineseButton.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
    elseif currentPage == "PirateWar" then
        PirateWarButton.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
    elseif currentPage == "GunArena" then
        GunArenaButton.BackgroundColor3 = COLOR_SCHEME.ACCENT_BLUE
    end
end

-- 功能按钮实现
FlightButton.MouseButton1Click:Connect(function()
    StatusText.Text = "正在加载飞行脚本..."
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Invinicible-Flight-R15-45414"))()
    StatusText.Text = "飞行功能已加载"
end)

FastSpinButton.MouseButton1Click:Connect(function()
    fastSpinEnabled = not fastSpinEnabled
    
    if fastSpinEnabled then
        StatusText.Text = "快速旋转已激活"
        FastSpinButton.Text = "关闭快速旋转"
        
        if superSpinEnabled then
            if superSpinConnection then
                superSpinConnection:Disconnect()
                superSpinConnection = nil
            end
            superSpinEnabled = false
            SuperSpinButton.Text = "极速旋转 (速度100)"
        end
        
        fastSpinConnection = RunService.Heartbeat:Connect(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                LocalPlayer.Character.HumanoidRootPart.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(50), 0)
            end
        end)
    else
        StatusText.Text = "快速旋转已关闭"
        FastSpinButton.Text = "快速旋转 (速度50)"
        
        if fastSpinConnection then
            fastSpinConnection:Disconnect()
            fastSpinConnection = nil
        end
    end
end)

SuperSpinButton.MouseButton1Click:Connect(function()
    superSpinEnabled = not superSpinEnabled
    
    if superSpinEnabled then
        StatusText.Text = "极速旋转已激活"
        SuperSpinButton.Text = "关闭极速旋转"
        
        if fastSpinEnabled then
            if fastSpinConnection then
                fastSpinConnection:Disconnect()
                fastSpinConnection = nil
            end
            fastSpinEnabled = false
            FastSpinButton.Text = "快速旋转 (速度50)"
        end
        
        superSpinConnection = RunService.Heartbeat:Connect(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                LocalPlayer.Character.HumanoidRootPart.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(100), 0)
            end
        end)
    else
        StatusText.Text = "极速旋转已关闭"
        SuperSpinButton.Text = "极速旋转 (速度100)"
        
        if superSpinConnection then
            superSpinConnection:Disconnect()
            superSpinConnection = nil
        end
    end
end)

InfiniteJumpButton.MouseButton1Click:Connect(function()
    infiniteJumpEnabled = not infiniteJumpEnabled
    
    if infiniteJumpEnabled then
        StatusText.Text = "无限跳跃已激活"
        InfiniteJumpButton.Text = "关闭无限跳跃"
        
        infiniteJumpConnection = UserInputService.JumpRequest:Connect(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end)
    else
        StatusText.Text = "无限跳跃已关闭"
        InfiniteJumpButton.Text = "无限跳跃"
        
        if infiniteJumpConnection then
            infiniteJumpConnection:Disconnect()
            infiniteJumpConnection = nil
        end
    end
end)

NightVisionButton.MouseButton1Click:Connect(function()
    nightVisionEnabled = not nightVisionEnabled
    
    if nightVisionEnabled then
        StatusText.Text = "夜视功能已激活"
        NightVisionButton.Text = "关闭夜视"
        
        Lighting.Brightness = 2
        Lighting.Ambient = Color3.new(1, 1, 1

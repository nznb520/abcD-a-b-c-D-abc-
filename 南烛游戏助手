-- NZ脚本中心流星球体版
-- 主作者:南烛

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

-- 创建主屏幕GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "NZScriptCenter"
ScreenGui.Parent = game.CoreGui

-- 创建星空球体按钮
local BallButton = Instance.new("ImageButton")
BallButton.Name = "BallButton"
BallButton.Size = UDim2.new(0, 80, 0, 80)
BallButton.Position = UDim2.new(0, 20, 0.5, -40)
BallButton.BackgroundTransparency = 1
BallButton.Image = "rbxassetid://130876619" -- 星空图片ID
BallButton.ImageColor3 = Color3.new(1, 1, 1)
BallButton.Parent = ScreenGui

-- 创建圆形遮罩
local CircleMask = Instance.new("UICorner")
CircleMask.CornerRadius = UDim.new(1, 0)
CircleMask.Parent = BallButton

-- 创建主弹窗
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 300, 0, 400)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -200)
MainFrame.BackgroundColor3 = Color3.new(0.05, 0.05, 0.15)
MainFrame.BorderSizePixel = 2
MainFrame.BorderColor3 = Color3.new(1, 0, 0)
MainFrame.Visible = false
MainFrame.Parent = ScreenGui

-- 边框发光效果
local Glow = Instance.new("ImageLabel")
Glow.Name = "Glow"
Glow.Size = UDim2.new(1, 10, 1, 10)
Glow.Position = UDim2.new(0, -5, 0, -5)
Glow.BackgroundTransparency = 1
Glow.Image = "rbxassetid://5028857084"
Glow.ImageColor3 = Color3.new(0, 0.5, 1)
Glow.ScaleType = Enum.ScaleType.Slice
Glow.SliceCenter = Rect.new(24, 24, 24, 24)
Glow.Parent = MainFrame

-- 边框颜色变化效果
spawn(function()
    while MainFrame and MainFrame.Parent do
        for i = 0, 1, 0.01 do
            if not MainFrame or not MainFrame.Parent then break end
            MainFrame.BorderColor3 = Color3.fromHSV(i, 1, 1)
            Glow.ImageColor3 = Color3.fromHSV(i, 0.8, 1)
            task.wait(0.05)
        end
    end
end)

-- 标题栏
local TitleBar = Instance.new("Frame")
TitleBar.Name = "TitleBar"
TitleBar.Size = UDim2.new(1, 0, 0, 35)
TitleBar.BackgroundColor3 = Color3.new(0.1, 0.1, 0.3)
TitleBar.Parent = MainFrame

-- 标题文本
local TitleText = Instance.new("TextLabel")
TitleText.Name = "TitleText"
TitleText.Text = "NZ脚本中心"
TitleText.Size = UDim2.new(0, 150, 1, 0)
TitleText.Position = UDim2.new(0, 10, 0, 0)
TitleText.BackgroundTransparency = 1
TitleText.TextColor3 = Color3.new(1, 1, 1)
TitleText.TextSize = 20
TitleText.Font = Enum.Font.SourceSansBold
TitleText.TextXAlignment = Enum.TextXAlignment.Left
TitleText.Parent = TitleBar

-- 关闭按钮
local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Text = "×"
CloseButton.Size = UDim2.new(0, 25, 0, 25)
CloseButton.Position = UDim2.new(1, -30, 0, 5)
CloseButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.4)
CloseButton.TextColor3 = Color3.new(1, 1, 1)
CloseButton.Parent = TitleBar

-- 内容区域
local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Size = UDim2.new(1, -20, 1, -70)
ContentFrame.Position = UDim2.new(0, 10, 0, 60)
ContentFrame.BackgroundTransparency = 1
ContentFrame.Parent = MainFrame

-- 快速旋转按钮
local FastSpinButton = Instance.new("TextButton")
FastSpinButton.Name = "FastSpinButton"
FastSpinButton.Text = "快速旋转 (速度50)"
FastSpinButton.Size = UDim2.new(1, 0, 0, 35)
FastSpinButton.Position = UDim2.new(0, 0, 0, 40)
FastSpinButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.4)
FastSpinButton.TextColor3 = Color3.new(1, 1, 1)
FastSpinButton.Parent = ContentFrame

-- 极速旋转按钮
local SuperSpinButton = Instance.new("TextButton")
SuperSpinButton.Name = "SuperSpinButton"
SuperSpinButton.Text = "极速旋转 (速度100)"
SuperSpinButton.Size = UDim2.new(1, 0, 0, 35)
SuperSpinButton.Position = UDim2.new(0, 0, 0, 80)
SuperSpinButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.4)
SuperSpinButton.TextColor3 = Color3.new(1, 1, 1)
SuperSpinButton.Parent = ContentFrame

-- 无限跳按钮
local InfiniteJumpButton = Instance.new("TextButton")
InfiniteJumpButton.Name = "InfiniteJumpButton"
InfiniteJumpButton.Text = "无限跳跃"
InfiniteJumpButton.Size = UDim2.new(1, 0, 0, 35)
InfiniteJumpButton.Position = UDim2.new(0, 0, 0, 120)
InfiniteJumpButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.4)
InfiniteJumpButton.TextColor3 = Color3.new(1, 1, 1)
InfiniteJumpButton.Parent = ContentFrame

-- 飞行功能按钮
local FlightButton = Instance.new("TextButton")
FlightButton.Name = "FlightButton"
FlightButton.Text = "无敌少侠飞行"
FlightButton.Size = UDim2.new(1, 0, 0, 35)
FlightButton.Position = UDim2.new(0, 0, 0, 160)
FlightButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.4)
FlightButton.TextColor3 = Color3.new(1, 1, 1)
FlightButton.Parent = ContentFrame

-- 状态提示
local StatusText = Instance.new("TextLabel")
StatusText.Name = "StatusText"
StatusText.Text = "点击左侧球体打开菜单"
StatusText.Size = UDim2.new(1, 0, 0, 20)
StatusText.Position = UDim2.new(0, 0, 1, -25)
StatusText.BackgroundTransparency = 1
StatusText.TextColor3 = Color3.new(0, 1, 0)
StatusText.TextSize = 14
StatusText.Font = Enum.Font.SourceSans
StatusText.TextXAlignment = Enum.TextXAlignment.Left
StatusText.Parent = ContentFrame

-- 球体按钮点击事件
local isMainFrameVisible = false
BallButton.MouseButton1Click:Connect(function()
    if isMainFrameVisible then
        -- 关闭主界面，变回星空球体
        MainFrame.Visible = false
        BallButton.Image = "rbxassetid://130876619" -- 星空图片
        StatusText.Text = "点击左侧球体打开菜单"
    else
        -- 打开主界面，变为流星图片
        MainFrame.Visible = true
        BallButton.Image = "rbxassetid://142835429" -- 流星图片ID
        StatusText.Text = "点击球体关闭菜单"
    end
    isMainFrameVisible = not isMainFrameVisible
end)

-- 关闭按钮点击事件
CloseButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
    BallButton.Image = "rbxassetid://130876619" -- 星空图片
    StatusText.Text = "点击左侧球体打开菜单"
    isMainFrameVisible = false
end)

-- 快速旋转功能
FastSpinButton.MouseButton1Click:Connect(function()
    StatusText.Text = "快速旋转已激活"
    
    LocalPlayer.CharacterAdded:Connect(function(character)
        local humanoid = character:WaitForChild("Humanoid")
        humanoid.AutoRotate = false
        
        game:GetService("RunService").Heartbeat:Connect(function()
            if humanoid and humanoid.Parent then
                humanoid.RootPart.CFrame = humanoid.RootPart.CFrame * CFrame.Angles(0, math.rad(50), 0)
            end
        end)
    end)
    
    if LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.AutoRotate = false
            
            game:GetService("RunService").Heartbeat:Connect(function()
                if humanoid and humanoid.Parent then
                    humanoid.RootPart.CFrame = humanoid.RootPart.CFrame * CFrame.Angles(0, math.rad(50), 0)
                end
            end)
        end
    end
end)

-- 极速旋转功能
SuperSpinButton.MouseButton1Click:Connect(function()
    StatusText.Text = "极速旋转已激活"
    
    LocalPlayer.CharacterAdded:Connect(function(character)
        local humanoid = character:WaitForChild("Humanoid")
        humanoid.AutoRotate = false
        
        game:GetService("RunService").Heartbeat:Connect(function()
            if humanoid and humanoid.Parent then
                humanoid.RootPart.CFrame = humanoid.RootPart.CFrame * CFrame.Angles(0, math.rad(100), 0)
            end
        end)
    end)
    
    if LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.AutoRotate = false
            
            game:GetService("RunService").Heartbeat:Connect(function()
                if humanoid and humanoid.Parent then
                    humanoid.RootPart.CFrame = humanoid.RootPart.CFrame * CFrame.Angles(0, math.rad(100), 0)
                end
            end)
        end
    end
end)

-- 无限跳功能
InfiniteJumpButton.MouseButton1Click:Connect(function()
    StatusText.Text = "无限跳跃已激活"
    
    LocalPlayer.CharacterAdded:Connect(function(character)
        local humanoid = character:WaitForChild("Humanoid")
        
        UserInputService.JumpRequest:Connect(function()
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end)
    end)
    
    if LocalPlayer.Character then
        local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
        if humanoid then
            UserInputService.JumpRequest:Connect(function()
                humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end)
        end
    end
end)

-- 飞行功能
FlightButton.MouseButton1Click:Connect(function()
    StatusText.Text = "正在加载飞行脚本..."
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Invinicible-Flight-R15-45414"))()
end)
